.zen
  visibility hidden

.header-gameTitle
  width 100%
  overflow hidden
  text-overflow ellipsis
  > .kiddo
    margin-right 5px
    font-size 20px
  > .fa-trophy
    margin-right 2px

.main_header_button.bookmarkButton
  padding 0 10px
  font-size 18px
  line-height 18px

.header-subTitle
  > .swords
    padding 0 0.5em
    font-size 0.8em

.playTable
  flex-grow 1
  max-height 55px
  display flex
  overflow hidden
  justify-content space-between
  align-items stretch
  &.clockOnLeft
    > .antagonistInfos
      order 2
  &.crazy
    flex 0 0 calc(100vw / 8 + 10px)
    padding 0
  @media only screen and (orientation: portrait) and (aspect-ratio 3/4), (orientation: portrait) and (device-aspect-ratio 3/4)
    width 98vw
    margin 0 auto
    &.crazy
      flex 0 0 "calc((100vh - 100vw - 25px - %s - %s) / 2)" % (headerHeight footerHeight)
  @media only screen and (orientation: landscape)
    padding 0
    &.crazy
      flex 0 0 'calc((100vh - %s) / 8)' % headerHeight
      max-height 60px
      > .antagonistInfos
        order 2
      > .pocket
        flex 0 0 auto
        order 1

.round-expiration
  position: absolute;
  left: 0
  width: 100%
  text-align: center
  font-size 0.9em
  color: #fff
  z-index: 50
  &.player
    top: 0
  &.opponent
    bottom 0
  > .countdown-timer
    padding: 5px
    font-weight normal
    font-family inherit
    display block
    height 100%
    width 100%
    background: rgba(#b3b3b3, 0.8)
    > strong
      font-family 'Roboto'
    &.emerg
      background: rgba(#dc322f, 0.8)

.replay_inline
  flex 1 1 auto
  overflow hidden
  overflow-x auto
  white-space nowrap
  display flex
  align-items center

.replay
  min-height 0 // fix chrome 73 regression
  flex 1 1 auto
  overflow hidden
  background lighten(bgdark, 3%)
  overflow-y auto
  -webkit-overflow-scrolling touch
  @media only screen and (orientation: portrait)
    margin .5em

.replay, .replay_inline
  > .replayMove
    overflow initial
    color darken(textDarkBg, 10%)
    font-weight normal
    transition: background-color 0.13s ease 0s;
    &.current
      color lighten(textDarkBg, 60%)
      background-color transparent
    &.active
      background-color lighten(bgdark, 8%)
  &.displayPieces
    > .replayMove
      font-family ChessSansPiratf

.rp.null
  color textGray
.rp.up
  color green
.rp.down
  color red

.antagonistInfos
  display flex
  flex-flow column nowrap
  justify-content center
  overflow hidden
  padding 0 2vmin
  .score
    vertical-align top
    margin-right 10px
    &.up
      font-weight bold
      color green
    &.down
      font-weight bold
      color red
  .rating
    color gold
    display inline-block
    vertical-align top
    margin-right 10px
  .ratingAndMaterial
    display flex
    margin-top 2px
  &.zen
    > .antagonistUser
      display none
    > .ratingAndMaterial
      > .rating
        display none
  &.active
    background-color lighten(bgdark, 8%)
  &.crazy
    padding 0 .5em
    > .antagonistUser
      font-size 1em
    > .clock
      line-height 30px
      display inline-block
      fluid-type(20px, 30px)
      text-align left
      margin-top 0.1em
      &.correspondence
        font-size 13px
  @media only screen and (min-width 600px)
    &.crazy
      > .antagonistUser
        font-size 1em
  @media only screen and (orientation landscape)
    &.crazy
      > .antagonistUser
        font-size 0.7em
      > .clock
        line-height 20px
        fluid-type(16px, 26px)
    .rating
      display block
      margin 0.2rem 0 0.5rem

.antagonistUser
  overflow hidden
  text-overflow ellipsis
  font-size 1.2em
  white-space nowrap
  color textLightGray
  > h2
    overflow hidden
    text-overflow ellipsis
  > .status
    font-size 0.9em
    margin-right 5px
    &.ongame
      color green
    &.offgame
      opacity 0.6
  @media only screen and (orientation landscape)
    font-size 1em
  @media only screen and (orientation portrait) and (min-width: 600px)
    font-size 1.2rem

.clock
  transform translateZ(0)
  font-family 'Roboto'
  text-align right
  fluid-type(32px, 48px)
  padding 0 2vmin
  line-height 55px
  color textDarkBg
  background-color #262626
  > seph
    opacity 0.7
  > sepl
    opacity 0.15
  > tens
    font-size 0.8em
  &.running
    background-color darkGreen
    color #fff
  &.berserk
    color #e35d5b
  &.emerg
    background-color #a00000
    color #d0d0d0
    &.running
      color #fff
  &.correspondence
    font-family inherit
    fluid-type(18px, 30px)
    white-space nowrap
    letter-spacing -0.05em
    &.offline
      color #8c8c8c
  @media only screen and (min-width: 600px)
    font-size 35px

.checkCount
  font-size 0.8em
  font-weight bold

.tomb
  margin-left 6px
  piece
    position initial
    margin-left -6px
    width 18px
    height 18px
    background-size cover
    display inline-block
  .pawn
    background-image url(../../images/pieces/mono/P.svg)
  .bishop
    background-image url(../../images/pieces/mono/B.svg)
  .knight
    background-image url(../../images/pieces/mono/N.svg)
  .rook
    background-image url(../../images/pieces/mono/R.svg)
  .queen
    background-image url(../../images/pieces/mono/Q.svg)
  .king
    background-image url(../../images/pieces/mono/K.svg)
  @media only screen and (min-width 960px) and (orientation landscape)
    piece
      width 25px
      height 25px

#promotion_choice
  border 1px solid black
  background-color rgba(255,255,255, 0.7)
  position absolute
  top calc((100vh - 100px) / 2)
  height 100px
  width 100%
  text-align center
  piece
    position relative
    display inline-block
    width 60px
    height 60px
    margin 0 5px
    top 17px

.tableHeader
  display flex
  justify-content flex-start
  align-items center
  padding 0 10px

.tableHeader, .player_controls
  .star
    width 25px
    height 25px
    padding 0
    font-size 25px
    margin-left 10px
    line-height 33px
    &:before
      margin-right 0
  .icon-game
    flex 0 0 auto
    font-size 33px
  .game-title
    flex 0 0 auto
    line-height 20px
    margin-left 10px
    text-align left
    text-transform uppercase
  .perf
    padding 7px 0
    &.active
      background-color darken(#fff, 5%)

.player_controls
  &.overlay_popup > header
    line-height initial
    padding 10px
    white-space normal
  button
    &.draw-yes:before
      display inline-block
      transform rotate(-90deg)
    &.on
      background-color darken(#fff, 15%)
  .negotiation, .force_resign_zone, .claim_draw_zone
    background-color selectBg
    text-align center
    padding 10px
    button
      background-color #fff
      &.active
        background-color darken(#fff, 3%)
      &.binary_choice[data-icon=E]
        border-right 1px solid selectBg
      &:not(.binary_choice):last-child
        width 50%
        margin 0 auto
        border-radius 3px
    .binary_choice_wrapper
      display flex
      flex-flow row no-wrap
  .notice
    margin 5px 0

.negotiationButtonsWrapper
  padding 10px
  border-radius 5px
  > p
    margin-bottom: 10px;
    text-align center
  > .negotiationButtons
    height 50px
    display flex
    align-items center
    justify-content space-around
    &.loading
      opacity 0.6
    > button
      flex: 0 0 80px;
      height: 50px;
      line-height: 44px;
      font-size: 25px;
      background: #fff;
      padding 0
      border-radius 4px
      &.accept
        background green
        color #fff
        &.active
          background lighten(green, 10%)
      &.decline
        background red
        color #fff
        &.active
          background lighten(red, 10%)

.player_controls, .offline_actions, .playersTable
  .result
    padding 0 10px
    text-align center
    margin 1em 0
  .resultStatus
    font-size 0.9em

.submitMovePopup
  background-color rgba(0,0,0,0.1)
  > .overlay_popup
    position absolute
    left 7.5%
    top "calc(100vh - %s - ((100vh - 100vw) / 2) / 2)" % footerHeight
    @media only screen and (orientation: landscape)
      top calc((100vh - 70px) / 2)
      left initial
      right 1vw
      width 'calc(100vw - 100vh + %s - 2vw)' % headerHeight
    @media only screen and (orientation: landscape) and (aspect-ratio 4/3), (orientation: landscape) and (device-aspect-ratio 4/3), (orientation landscape) and (device-aspect-ratio 3/4)
      width 'calc(100vw - 100vh + %s + 12vh - 2vw)' % headerHeight
    // tablets
    @media only screen and (orientation portrait) and (min-width 500px)
      left 20%
    @media only screen and (orientation portrait) and (min-width 600px)
      left 22.5%
    @media only screen and (orientation portrait) and (min-width 700px)
      left 25%
    @media only screen and (orientation portrait) and (min-width 800px)
      left 27.5%
    @media only screen and (orientation portrait) and (min-width 900px)
      left 30%
    border-radius 5px


.player_controls
  button.berserk
    margin-bottom 10px

.notesTextarea, #notesTextarea
  background-color transparent
  width 100%
  height 100%
  border none
  padding 15px
  &.loading
    display flex
    align-items center

.pocket
  background #cdcdcd
  white-space nowrap
  overflow hidden
  display flex
  flex-flow row nowrap
  align-items center
  justify-content space-around

.pocket > piece
  width calc(100vw / 8)
  height calc(100vw / 8)
  max-width "calc((100vh - 100vw - %s - %s) / 2)" % (headerHeight footerHeight)
  max-height "calc((100vh - 100vw - %s - %s) / 2)" % (headerHeight footerHeight)
  background-position center
  background-size contain
  background-repeat no-repeat
  position relative
  &:after
    content: attr(data-nb);
    bottom: 0;
    right: 0;
    position: absolute;
    line-height: 0.9em
    padding: 3px 5px 4px 5px;
    font-weight: bold;
    border-radius: 2px;
    font-size: 0.9em
    color: #fff
    text-shadow: 0 1px 0 #000
    background orange
    border-color: #b84400
    box-shadow: 0 3px 4px rgba(0, 0, 0, 0.15) inset
  &:first-child
    border-radius: 3px 0 0 3px;
  @media only screen and (orientation portrait) and (min-width 600px)
    &:after
      font-size 22px
      line-height 22px
      padding 3px 5px 4px 5px
      right 3px
      bottom 3px
  @media only screen and (orientation: landscape)
    width 'calc((100vh - %s) / 8)' % headerHeight
    height 'calc((100vh - %s) / 8)' % headerHeight
    max-width 60px
    max-height 60px
  @media only screen and (orientation: portrait) and (aspect-ratio 3/4), (orientation: portrait) and (device-aspect-ratio 3/4)
    width "calc((100vh - 100vw - 25px - %s - %s) / 2)" % (headerHeight footerHeight)
    height "calc((100vh - 100vw - 25px - %s - %s) / 2)" % (headerHeight footerHeight)

.pocket > piece[data-nb='0']
  opacity: 0.1;
  &:after
    content none

.view-container.light
  .antagonistUser
    color textDarkGray
  .clock
    color #707070
    background-color themeBgLight
    border-color #ccc
    &.running
      background-color palerGreen
      color #000
    &.berserk
      border-color #dc322f
    &.emerg
      background-color #efaaaa
      color textDarkGray
    &.correspondence
      &.offline
        background-color themeBgLight
        color #707070


.view-container.transp
  .pocket
    background transpWhite05
  .clock
    color rgba(#8c8c8c, 0.6)
    &.running
      color #fff
    &.emerg
      background-color rgba(#a00000, 0.6)
      color #d0d0d0
      &.running
        color #fff
  .replay
    background transpBlack04

.action_bar_button
  &[data-icon='2']:before
    display inline-block
    transform rotate(-90deg)

.round-tvChannelSelector
  font-size 1em
